{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch}from'react-redux';import{handleTablesPagesHistory}from'Storages/SessionStorage';import{setRace}from'store/modules/listReducer';import FinishLine from'components/commons/FinishLine/FinishLine';import GarageTableRow from'components/commons/GarageTableRow/GarageTableRow';import Pagination from'components/commons/Pagination/Pagination';import styles from'./GarageTable.module.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GarageTable(_ref){let{list}=_ref;const dispatch=useDispatch();const pageInHistory=handleTablesPagesHistory('getItem',{key:'garageTable'});const visibleitemsCount=7;const maxPageCount=Math.ceil(list.length/visibleitemsCount);const[pageNo,setPageNo]=useState(pageInHistory<=maxPageCount?pageInHistory:maxPageCount);const handlePageChange=No=>setPageNo(No);useEffect(()=>{handleTablesPagesHistory('update',{key:'garageTable',newValue:pageNo});dispatch(setRace(false));},[pageNo]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.garageTable,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.track,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.startLine,children:\"START\"}),/*#__PURE__*/_jsx(FinishLine,{}),list.slice((pageNo-1)*visibleitemsCount,pageNo*visibleitemsCount).map(car=>/*#__PURE__*/_jsx(GarageTableRow,{carData:car},car.id))]}),list.length>visibleitemsCount?/*#__PURE__*/_jsx(Pagination,{count:list.length,pageNo:pageNo,changePage:No=>handlePageChange(No),visibleitemsCount:visibleitemsCount}):null]});}export default GarageTable;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","handleTablesPagesHistory","setRace","FinishLine","GarageTableRow","Pagination","styles","jsx","_jsx","jsxs","_jsxs","GarageTable","_ref","list","dispatch","pageInHistory","key","visibleitemsCount","maxPageCount","Math","ceil","length","pageNo","setPageNo","handlePageChange","No","newValue","className","garageTable","children","track","startLine","slice","map","car","carData","id","count","changePage"],"sources":["C:/Users/Admin/Documents/GitHub/Async-Race/src/components/featues/GarageTable/GarageTable.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { handleTablesPagesHistory } from 'Storages/SessionStorage';\r\nimport { setRace } from 'store/modules/listReducer';\r\n\r\nimport FinishLine from 'components/commons/FinishLine/FinishLine';\r\nimport GarageTableRow from 'components/commons/GarageTableRow/GarageTableRow';\r\nimport Pagination from 'components/commons/Pagination/Pagination';\r\n\r\nimport styles from './GarageTable.module.scss';\r\n\r\nfunction GarageTable({ list }) {\r\n   const dispatch = useDispatch();\r\n   const pageInHistory = handleTablesPagesHistory( 'getItem', { key: 'garageTable' } );\r\n   const visibleitemsCount = 7;\r\n   const maxPageCount = Math.ceil( list.length / visibleitemsCount );\r\n   const [ pageNo, setPageNo ] = useState( pageInHistory <= maxPageCount ? pageInHistory : maxPageCount ); \r\n\r\n   const handlePageChange = No => setPageNo( No );\r\n\r\n   useEffect( () => {\r\n      handleTablesPagesHistory( 'update', { key: 'garageTable', newValue: pageNo } );\r\n      dispatch( setRace( false ) );\r\n   }, [ pageNo ]);\r\n\r\n   return(\r\n      <div className = { styles.garageTable }>\r\n         <div className = { styles.track }>\r\n            <span className = { styles.startLine }>START</span>\r\n            <FinishLine />\r\n            {\r\n               list\r\n               .slice(( pageNo - 1 ) * visibleitemsCount, pageNo * visibleitemsCount )\r\n               .map( car => <GarageTableRow key = { car.id } carData = { car } />)\r\n            }\r\n         </div>\r\n         {\r\n            list.length > visibleitemsCount\r\n               ?  <Pagination \r\n                     count = { list.length } \r\n                     pageNo = { pageNo }\r\n                     changePage = { ( No ) => handlePageChange( No ) }\r\n                     visibleitemsCount = { visibleitemsCount }\r\n                  />\r\n               : null\r\n         }\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default GarageTable;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CAEzC,OAASC,wBAAwB,KAAQ,yBAAyB,CAClE,OAASC,OAAO,KAAQ,2BAA2B,CAEnD,MAAO,CAAAC,UAAU,KAAM,0CAA0C,CACjE,MAAO,CAAAC,cAAc,KAAM,kDAAkD,CAC7E,MAAO,CAAAC,UAAU,KAAM,0CAA0C,CAEjE,MAAO,CAAAC,MAAM,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAW,IAAV,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAAAE,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,aAAa,CAAGd,wBAAwB,CAAE,SAAS,CAAE,CAAEe,GAAG,CAAE,aAAc,CAAE,CAAC,CACnF,KAAM,CAAAC,iBAAiB,CAAG,CAAC,CAC3B,KAAM,CAAAC,YAAY,CAAGC,IAAI,CAACC,IAAI,CAAEP,IAAI,CAACQ,MAAM,CAAGJ,iBAAkB,CAAC,CACjE,KAAM,CAAEK,MAAM,CAAEC,SAAS,CAAE,CAAGxB,QAAQ,CAAEgB,aAAa,EAAIG,YAAY,CAAGH,aAAa,CAAGG,YAAa,CAAC,CAEtG,KAAM,CAAAM,gBAAgB,CAAGC,EAAE,EAAIF,SAAS,CAAEE,EAAG,CAAC,CAE9C3B,SAAS,CAAE,IAAM,CACdG,wBAAwB,CAAE,QAAQ,CAAE,CAAEe,GAAG,CAAE,aAAa,CAAEU,QAAQ,CAAEJ,MAAO,CAAE,CAAC,CAC9ER,QAAQ,CAAEZ,OAAO,CAAE,KAAM,CAAE,CAAC,CAC/B,CAAC,CAAE,CAAEoB,MAAM,CAAE,CAAC,CAEd,mBACGZ,KAAA,QAAKiB,SAAS,CAAKrB,MAAM,CAACsB,WAAa,CAAAC,QAAA,eACpCnB,KAAA,QAAKiB,SAAS,CAAKrB,MAAM,CAACwB,KAAO,CAAAD,QAAA,eAC9BrB,IAAA,SAAMmB,SAAS,CAAKrB,MAAM,CAACyB,SAAW,CAAAF,QAAA,CAAC,OAAK,CAAM,CAAC,cACnDrB,IAAA,CAACL,UAAU,GAAE,CAAC,CAEXU,IAAI,CACHmB,KAAK,CAAC,CAAEV,MAAM,CAAG,CAAC,EAAKL,iBAAiB,CAAEK,MAAM,CAAGL,iBAAkB,CAAC,CACtEgB,GAAG,CAAEC,GAAG,eAAI1B,IAAA,CAACJ,cAAc,EAAkB+B,OAAO,CAAKD,GAAK,EAA1BA,GAAG,CAACE,EAAwB,CAAC,CAAC,EAEpE,CAAC,CAEHvB,IAAI,CAACQ,MAAM,CAAGJ,iBAAiB,cACzBT,IAAA,CAACH,UAAU,EACRgC,KAAK,CAAKxB,IAAI,CAACQ,MAAQ,CACvBC,MAAM,CAAKA,MAAQ,CACnBgB,UAAU,CAAOb,EAAE,EAAMD,gBAAgB,CAAEC,EAAG,CAAG,CACjDR,iBAAiB,CAAKA,iBAAmB,CAC3C,CAAC,CACH,IAAI,EAEV,CAAC,CAEZ,CAEA,cAAe,CAAAN,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}