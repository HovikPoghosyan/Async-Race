{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Documents/GitHub/Async-Race/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from'react';import{useAppDispatch,useAppSelector}from'store/hooks/hooks';import{addNewCar,updateCar,setSelectedCar}from'store/modules/garageListReducer';function UseControlPanelForm(){const dispatch=useAppDispatch();const selectedCar=useAppSelector(store=>store.garageList.selectedCar);const[newCar,setNewCar]=useState({name:'',color:'#48bfee'});const[updatedCar,setUpdatedCar]=useState({name:'',color:'#48bfee',id:0});const[updateBtnDisable,setUpdateBtnDisable]=useState(true);useEffect(()=>{if(selectedCar)setUpdatedCar({name:selectedCar.name,color:selectedCar.color,id:selectedCar.id});else setUpdatedCar({name:'',color:'#48bfee',id:0});},[selectedCar]);const submitNewCar=()=>{dispatch(addNewCar(newCar));setNewCar({name:'',color:'#48bfee'});};const submitUpdatedCar=()=>{dispatch(updateCar(_objectSpread(_objectSpread({},selectedCar),updatedCar)));setUpdatedCar({name:'',color:'#48bfee',id:0});dispatch(setSelectedCar(undefined));};const handleNewCar=newData=>setNewCar(_objectSpread(_objectSpread({},newCar),newData));const handleUpdatedCar=newData=>setUpdatedCar(_objectSpread(_objectSpread({},updatedCar),newData));useEffect(()=>{if(selectedCar&&(updatedCar.name!==selectedCar.name||updatedCar.color!==selectedCar.color)){setUpdateBtnDisable(false);}else setUpdateBtnDisable(true);},[updatedCar]);return{newCar,updatedCar,handleNewCar,handleUpdatedCar,submitNewCar,submitUpdatedCar,updateBtnDisable};}export default UseControlPanelForm;","map":{"version":3,"names":["useEffect","useState","useAppDispatch","useAppSelector","addNewCar","updateCar","setSelectedCar","UseControlPanelForm","dispatch","selectedCar","store","garageList","newCar","setNewCar","name","color","updatedCar","setUpdatedCar","id","updateBtnDisable","setUpdateBtnDisable","submitNewCar","submitUpdatedCar","_objectSpread","undefined","handleNewCar","newData","handleUpdatedCar"],"sources":["C:/Users/Admin/Documents/GitHub/Async-Race/src/components/commons/ControlPanelForm/UseControlPanelForm.ts"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from 'store/hooks/hooks';\r\n\r\nimport { addNewCar, updateCar, setSelectedCar, Car, CarData } from 'store/modules/garageListReducer';\r\n\r\ninterface UseControlPanelFormReturn {\r\n   newCar: CarData;\r\n   updatedCar: Car;\r\n   handleNewCar: (newData: Partial<CarData>) => void;\r\n   handleUpdatedCar: (newData: Partial<Car>) => void;\r\n   submitNewCar: () => void;\r\n   submitUpdatedCar: () => void;\r\n   updateBtnDisable: boolean;\r\n}\r\n\r\nfunction UseControlPanelForm(): UseControlPanelFormReturn {\r\n   const dispatch = useAppDispatch();\r\n   const selectedCar = useAppSelector((store) => store.garageList.selectedCar);\r\n   const [newCar, setNewCar] = useState<CarData>({ name: '', color: '#48bfee' });\r\n   const [updatedCar, setUpdatedCar] = useState<Car>({ name: '', color: '#48bfee', id: 0 });\r\n   const [updateBtnDisable, setUpdateBtnDisable] = useState(true);\r\n\r\n   useEffect(() => {\r\n      if (selectedCar) setUpdatedCar({ name: selectedCar.name, color: selectedCar.color, id: selectedCar.id });\r\n      else setUpdatedCar({ name: '', color: '#48bfee', id: 0 });\r\n   }, [selectedCar]);\r\n\r\n   const submitNewCar = () => {\r\n      dispatch(addNewCar(newCar));\r\n      setNewCar({ name: '', color: '#48bfee' });\r\n   };\r\n\r\n   const submitUpdatedCar = () => {\r\n      dispatch(updateCar({ ...selectedCar, ...updatedCar }));\r\n      setUpdatedCar({ name: '', color: '#48bfee', id: 0 });\r\n      dispatch(setSelectedCar(undefined));\r\n   };\r\n\r\n   const handleNewCar = (newData: Partial<CarData>) => setNewCar({ ...newCar, ...newData });\r\n   const handleUpdatedCar = (newData: Partial<Car>) => setUpdatedCar({ ...updatedCar, ...newData });\r\n   useEffect(() => {\r\n      if (selectedCar && (updatedCar.name !== selectedCar.name || updatedCar.color !== selectedCar.color)) {\r\n         setUpdateBtnDisable(false);\r\n      } else setUpdateBtnDisable(true);\r\n   }, [updatedCar]);\r\n\r\n   return { newCar, updatedCar, handleNewCar, handleUpdatedCar, submitNewCar, submitUpdatedCar, updateBtnDisable };\r\n}\r\n\r\nexport default UseControlPanelForm;\r\n"],"mappings":"+HAAA,OAAgBA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,cAAc,CAAEC,cAAc,KAAQ,mBAAmB,CAElE,OAASC,SAAS,CAAEC,SAAS,CAAEC,cAAc,KAAsB,iCAAiC,CAYpG,QAAS,CAAAC,mBAAmBA,CAAA,CAA8B,CACvD,KAAM,CAAAC,QAAQ,CAAGN,cAAc,CAAC,CAAC,CACjC,KAAM,CAAAO,WAAW,CAAGN,cAAc,CAAEO,KAAK,EAAKA,KAAK,CAACC,UAAU,CAACF,WAAW,CAAC,CAC3E,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAU,CAAEa,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAU,CAAC,CAAC,CAC7E,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAM,CAAEa,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAS,CAAEG,EAAE,CAAE,CAAE,CAAC,CAAC,CACxF,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAE9DD,SAAS,CAAC,IAAM,CACb,GAAIS,WAAW,CAAEQ,aAAa,CAAC,CAAEH,IAAI,CAAEL,WAAW,CAACK,IAAI,CAAEC,KAAK,CAAEN,WAAW,CAACM,KAAK,CAAEG,EAAE,CAAET,WAAW,CAACS,EAAG,CAAC,CAAC,CAAC,IACpG,CAAAD,aAAa,CAAC,CAAEH,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAS,CAAEG,EAAE,CAAE,CAAE,CAAC,CAAC,CAC5D,CAAC,CAAE,CAACT,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAY,YAAY,CAAGA,CAAA,GAAM,CACxBb,QAAQ,CAACJ,SAAS,CAACQ,MAAM,CAAC,CAAC,CAC3BC,SAAS,CAAC,CAAEC,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAU,CAAC,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAO,gBAAgB,CAAGA,CAAA,GAAM,CAC5Bd,QAAQ,CAACH,SAAS,CAAAkB,aAAA,CAAAA,aAAA,IAAMd,WAAW,EAAKO,UAAU,CAAE,CAAC,CAAC,CACtDC,aAAa,CAAC,CAAEH,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAS,CAAEG,EAAE,CAAE,CAAE,CAAC,CAAC,CACpDV,QAAQ,CAACF,cAAc,CAACkB,SAAS,CAAC,CAAC,CACtC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,OAAyB,EAAKb,SAAS,CAAAU,aAAA,CAAAA,aAAA,IAAMX,MAAM,EAAKc,OAAO,CAAE,CAAC,CACxF,KAAM,CAAAC,gBAAgB,CAAID,OAAqB,EAAKT,aAAa,CAAAM,aAAA,CAAAA,aAAA,IAAMP,UAAU,EAAKU,OAAO,CAAE,CAAC,CAChG1B,SAAS,CAAC,IAAM,CACb,GAAIS,WAAW,GAAKO,UAAU,CAACF,IAAI,GAAKL,WAAW,CAACK,IAAI,EAAIE,UAAU,CAACD,KAAK,GAAKN,WAAW,CAACM,KAAK,CAAC,CAAE,CAClGK,mBAAmB,CAAC,KAAK,CAAC,CAC7B,CAAC,IAAM,CAAAA,mBAAmB,CAAC,IAAI,CAAC,CACnC,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAEhB,MAAO,CAAEJ,MAAM,CAAEI,UAAU,CAAES,YAAY,CAAEE,gBAAgB,CAAEN,YAAY,CAAEC,gBAAgB,CAAEH,gBAAiB,CAAC,CAClH,CAEA,cAAe,CAAAZ,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}