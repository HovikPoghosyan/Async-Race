{"ast":null,"code":"import React,{useState,useEffect}from'react';import{handleTablesPagesHistory}from'Storages/SessionStorage';import WinnersTableRow from'components/commons/WinnersTableRow/WinnersTableRow';import Pagination from'components/commons/Pagination/Pagination';import styles from'./WinnersTable.module.scss';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function WinnersTable(_ref){let{list}=_ref;const pageInHistory=handleTablesPagesHistory('getItem',{key:'winnersTable'});const visibleitemsCount=10;const maxPageCount=Math.ceil(list.length/visibleitemsCount);const[pageNo,setPageNo]=useState(pageInHistory<=maxPageCount?pageInHistory:maxPageCount);useEffect(()=>{handleTablesPagesHistory('update',{key:'winnersTable',newValue:pageNo});},[pageNo]);const handlePageChange=No=>setPageNo(No);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Car\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Wins\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Best Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:list.slice((pageNo-1)*visibleitemsCount,pageNo*visibleitemsCount).map(car=>/*#__PURE__*/_jsx(WinnersTableRow,{carData:car},car===null||car===void 0?void 0:car.id))})]}),list.length>=visibleitemsCount?/*#__PURE__*/_jsx(Pagination,{count:list.length,pageNo:pageNo,changePage:No=>handlePageChange(No),visibleitemsCount:visibleitemsCount}):null]});}export default WinnersTable;","map":{"version":3,"names":["React","useState","useEffect","handleTablesPagesHistory","WinnersTableRow","Pagination","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WinnersTable","_ref","list","pageInHistory","key","visibleitemsCount","maxPageCount","Math","ceil","length","pageNo","setPageNo","newValue","handlePageChange","No","children","className","table","slice","map","car","carData","id","count","changePage"],"sources":["C:/Users/Admin/Documents/GitHub/Async-Race/src/components/featues/WinnersTable/WinnersTable.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport { handleTablesPagesHistory } from 'Storages/SessionStorage';\r\n\r\nimport WinnersTableRow from 'components/commons/WinnersTableRow/WinnersTableRow';\r\nimport Pagination from 'components/commons/Pagination/Pagination';\r\n\r\nimport styles from './WinnersTable.module.scss';\r\n\r\nfunction WinnersTable({ list }) {\r\n   const pageInHistory = handleTablesPagesHistory('getItem', {\r\n      key: 'winnersTable',\r\n   });\r\n   const visibleitemsCount = 10;\r\n   const maxPageCount = Math.ceil(list.length / visibleitemsCount);\r\n   const [pageNo, setPageNo] = useState(\r\n      pageInHistory <= maxPageCount ? pageInHistory : maxPageCount\r\n   );\r\n\r\n   useEffect(() => {\r\n      handleTablesPagesHistory('update', {\r\n         key: 'winnersTable',\r\n         newValue: pageNo,\r\n      });\r\n   }, [pageNo]);\r\n   const handlePageChange = (No) => setPageNo(No);\r\n   return (\r\n      <>\r\n         <table className={styles.table}>\r\n            <thead>\r\n               <tr>\r\n                  <th>No</th>\r\n                  <th>Car</th>\r\n                  <th>Name</th>\r\n                  <th>Wins</th>\r\n                  <th>Best Time</th>\r\n               </tr>\r\n            </thead>\r\n            <tbody>\r\n               {list\r\n                  .slice(\r\n                     (pageNo - 1) * visibleitemsCount,\r\n                     pageNo * visibleitemsCount\r\n                  )\r\n                  .map((car) => (\r\n                     <WinnersTableRow key={car?.id} carData={car} />\r\n                  ))}\r\n            </tbody>\r\n         </table>\r\n         {list.length >= visibleitemsCount ? (\r\n            <Pagination\r\n               count={list.length}\r\n               pageNo={pageNo}\r\n               changePage={(No) => handlePageChange(No)}\r\n               visibleitemsCount={visibleitemsCount}\r\n            />\r\n         ) : null}\r\n      </>\r\n   );\r\n}\r\n\r\nexport default WinnersTable;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,OAASC,wBAAwB,KAAQ,yBAAyB,CAElE,MAAO,CAAAC,eAAe,KAAM,oDAAoD,CAChF,MAAO,CAAAC,UAAU,KAAM,0CAA0C,CAEjE,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhD,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAW,IAAV,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAAAE,aAAa,CAAGb,wBAAwB,CAAC,SAAS,CAAE,CACvDc,GAAG,CAAE,cACR,CAAC,CAAC,CACF,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAC5B,KAAM,CAAAC,YAAY,CAAGC,IAAI,CAACC,IAAI,CAACN,IAAI,CAACO,MAAM,CAAGJ,iBAAiB,CAAC,CAC/D,KAAM,CAACK,MAAM,CAAEC,SAAS,CAAC,CAAGvB,QAAQ,CACjCe,aAAa,EAAIG,YAAY,CAAGH,aAAa,CAAGG,YACnD,CAAC,CAEDjB,SAAS,CAAC,IAAM,CACbC,wBAAwB,CAAC,QAAQ,CAAE,CAChCc,GAAG,CAAE,cAAc,CACnBQ,QAAQ,CAAEF,MACb,CAAC,CAAC,CACL,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CACZ,KAAM,CAAAG,gBAAgB,CAAIC,EAAE,EAAKH,SAAS,CAACG,EAAE,CAAC,CAC9C,mBACGjB,KAAA,CAAAE,SAAA,EAAAgB,QAAA,eACGlB,KAAA,UAAOmB,SAAS,CAAEvB,MAAM,CAACwB,KAAM,CAAAF,QAAA,eAC5BpB,IAAA,UAAAoB,QAAA,cACGlB,KAAA,OAAAkB,QAAA,eACGpB,IAAA,OAAAoB,QAAA,CAAI,IAAE,CAAI,CAAC,cACXpB,IAAA,OAAAoB,QAAA,CAAI,KAAG,CAAI,CAAC,cACZpB,IAAA,OAAAoB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbpB,IAAA,OAAAoB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbpB,IAAA,OAAAoB,QAAA,CAAI,WAAS,CAAI,CAAC,EACjB,CAAC,CACD,CAAC,cACRpB,IAAA,UAAAoB,QAAA,CACIb,IAAI,CACDgB,KAAK,CACH,CAACR,MAAM,CAAG,CAAC,EAAIL,iBAAiB,CAChCK,MAAM,CAAGL,iBACZ,CAAC,CACAc,GAAG,CAAEC,GAAG,eACNzB,IAAA,CAACJ,eAAe,EAAe8B,OAAO,CAAED,GAAI,EAAtBA,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEE,EAAmB,CAChD,CAAC,CACD,CAAC,EACJ,CAAC,CACPpB,IAAI,CAACO,MAAM,EAAIJ,iBAAiB,cAC9BV,IAAA,CAACH,UAAU,EACR+B,KAAK,CAAErB,IAAI,CAACO,MAAO,CACnBC,MAAM,CAAEA,MAAO,CACfc,UAAU,CAAGV,EAAE,EAAKD,gBAAgB,CAACC,EAAE,CAAE,CACzCT,iBAAiB,CAAEA,iBAAkB,CACvC,CAAC,CACD,IAAI,EACT,CAAC,CAET,CAEA,cAAe,CAAAL,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}