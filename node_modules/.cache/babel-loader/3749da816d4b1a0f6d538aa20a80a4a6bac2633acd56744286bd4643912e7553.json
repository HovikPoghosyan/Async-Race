{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from 'store/hooks/hooks';\nimport { addNewCar, updateCar, setSelectedCar } from 'store/modules/listReducer';\nfunction UseControlPanelForm() {\n  _s();\n  const dispatch = useAppDispatch();\n  const selectedCar = useAppSelector(store => store.list.selectedCar);\n  const [newCar, setNewCar] = useState({\n    name: '',\n    color: '#48bfee'\n  });\n  const [updatedCar, setUpdatedCar] = useState({\n    name: '',\n    color: '#48bfee',\n    id: 0\n  });\n  const [updateBtnDisable, setUpdateBtnDisable] = useState(true);\n  useEffect(() => {\n    if (selectedCar) setUpdatedCar({\n      name: selectedCar.name,\n      color: selectedCar.color,\n      id: selectedCar.id\n    });else setUpdatedCar({\n      name: '',\n      color: '#48bfee',\n      id: 0\n    });\n  }, [selectedCar]);\n  const submitNewCar = () => {\n    dispatch(addNewCar(newCar));\n    setNewCar({\n      name: '',\n      color: '#48bfee'\n    });\n  };\n  const submitUpdatedCar = () => {\n    dispatch(updateCar({\n      ...selectedCar,\n      ...updatedCar\n    }));\n    setUpdatedCar({\n      name: '',\n      color: '#48bfee',\n      id: 0\n    });\n    dispatch(setSelectedCar(undefined));\n  };\n  const handleNewCar = newData => setNewCar({\n    ...newCar,\n    ...newData\n  });\n  const handleUpdatedCar = newData => setUpdatedCar({\n    ...updatedCar,\n    ...newData\n  });\n  useEffect(() => {\n    if (selectedCar && (updatedCar.name !== selectedCar.name || updatedCar.color !== selectedCar.color)) {\n      setUpdateBtnDisable(false);\n    } else setUpdateBtnDisable(true);\n  }, [updatedCar]);\n  return {\n    newCar: newCar,\n    updatedCar,\n    handleNewCar,\n    handleUpdatedCar,\n    submitNewCar,\n    submitUpdatedCar,\n    updateBtnDisable\n  };\n}\n_s(UseControlPanelForm, \"ELz3tk1z8pLPEGIhbqTRC0eB6TA=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c = UseControlPanelForm;\nexport default UseControlPanelForm;\nvar _c;\n$RefreshReg$(_c, \"UseControlPanelForm\");","map":{"version":3,"names":["useEffect","useState","useAppDispatch","useAppSelector","addNewCar","updateCar","setSelectedCar","UseControlPanelForm","_s","dispatch","selectedCar","store","list","newCar","setNewCar","name","color","updatedCar","setUpdatedCar","id","updateBtnDisable","setUpdateBtnDisable","submitNewCar","submitUpdatedCar","undefined","handleNewCar","newData","handleUpdatedCar","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/GitHub/Async-Race/src/components/commons/ControlPanelForm/UseControlPanelForm.ts"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from 'store/hooks/hooks';\r\n\r\nimport {\r\n   addNewCar,\r\n   updateCar,\r\n   setSelectedCar,\r\n   Car,\r\n   CarData,\r\n} from 'store/modules/listReducer';\r\n\r\ninterface UseControlPanelFormReturn {\r\n   newCar: CarData;\r\n   updatedCar: Car;\r\n   handleNewCar: (newData: Partial<CarData>) => void;\r\n   handleUpdatedCar: (newData: Partial<Car>) => void;\r\n   submitNewCar: () => void;\r\n   submitUpdatedCar: () => void;\r\n   updateBtnDisable: boolean;\r\n}\r\n\r\nfunction UseControlPanelForm(): UseControlPanelFormReturn {\r\n   const dispatch = useAppDispatch();\r\n   const selectedCar = useAppSelector((store) => store.list.selectedCar);\r\n   const [newCar, setNewCar] = useState<CarData>({\r\n      name: '',\r\n      color: '#48bfee',\r\n   });\r\n   const [updatedCar, setUpdatedCar] = useState<Car>({\r\n      name: '',\r\n      color: '#48bfee',\r\n      id: 0,\r\n   });\r\n   const [updateBtnDisable, setUpdateBtnDisable] = useState(true);\r\n\r\n   useEffect(() => {\r\n      if (selectedCar)\r\n         setUpdatedCar({\r\n            name: selectedCar.name,\r\n            color: selectedCar.color,\r\n            id: selectedCar.id,\r\n         });\r\n      else setUpdatedCar({ name: '', color: '#48bfee', id: 0 });\r\n   }, [selectedCar]);\r\n\r\n   const submitNewCar = () => {\r\n      dispatch(addNewCar(newCar));\r\n      setNewCar({ name: '', color: '#48bfee' });\r\n   };\r\n\r\n   const submitUpdatedCar = () => {\r\n      dispatch(updateCar({ ...selectedCar, ...updatedCar }));\r\n      setUpdatedCar({ name: '', color: '#48bfee', id: 0 });\r\n      dispatch(setSelectedCar(undefined));\r\n   };\r\n\r\n   const handleNewCar = (newData: Partial<CarData>) =>\r\n      setNewCar({ ...newCar, ...newData });\r\n   const handleUpdatedCar = (newData: Partial<Car>) =>\r\n      setUpdatedCar({ ...updatedCar, ...newData });\r\n   useEffect(() => {\r\n      if (\r\n         selectedCar &&\r\n         (updatedCar.name !== selectedCar.name ||\r\n            updatedCar.color !== selectedCar.color)\r\n      ) {\r\n         setUpdateBtnDisable(false);\r\n      } else setUpdateBtnDisable(true);\r\n   }, [updatedCar]);\r\n\r\n   return {\r\n      newCar: newCar as Car,\r\n      updatedCar,\r\n      handleNewCar,\r\n      handleUpdatedCar,\r\n      submitNewCar,\r\n      submitUpdatedCar,\r\n      updateBtnDisable,\r\n   };\r\n}\r\n\r\nexport default UseControlPanelForm;\r\n"],"mappings":";AAAA,SAAgBA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,cAAc,EAAEC,cAAc,QAAQ,mBAAmB;AAElE,SACGC,SAAS,EACTC,SAAS,EACTC,cAAc,QAGV,2BAA2B;AAYlC,SAASC,mBAAmBA,CAAA,EAA8B;EAAAC,EAAA;EACvD,MAAMC,QAAQ,GAAGP,cAAc,CAAC,CAAC;EACjC,MAAMQ,WAAW,GAAGP,cAAc,CAAEQ,KAAK,IAAKA,KAAK,CAACC,IAAI,CAACF,WAAW,CAAC;EACrE,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAU;IAC3Cc,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE;EACV,CAAC,CAAC;EACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAM;IAC/Cc,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,SAAS;IAChBG,EAAE,EAAE;EACP,CAAC,CAAC;EACF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAE9DD,SAAS,CAAC,MAAM;IACb,IAAIU,WAAW,EACZQ,aAAa,CAAC;MACXH,IAAI,EAAEL,WAAW,CAACK,IAAI;MACtBC,KAAK,EAAEN,WAAW,CAACM,KAAK;MACxBG,EAAE,EAAET,WAAW,CAACS;IACnB,CAAC,CAAC,CAAC,KACDD,aAAa,CAAC;MAAEH,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,SAAS;MAAEG,EAAE,EAAE;IAAE,CAAC,CAAC;EAC5D,CAAC,EAAE,CAACT,WAAW,CAAC,CAAC;EAEjB,MAAMY,YAAY,GAAGA,CAAA,KAAM;IACxBb,QAAQ,CAACL,SAAS,CAACS,MAAM,CAAC,CAAC;IAC3BC,SAAS,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAU,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMO,gBAAgB,GAAGA,CAAA,KAAM;IAC5Bd,QAAQ,CAACJ,SAAS,CAAC;MAAE,GAAGK,WAAW;MAAE,GAAGO;IAAW,CAAC,CAAC,CAAC;IACtDC,aAAa,CAAC;MAAEH,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,SAAS;MAAEG,EAAE,EAAE;IAAE,CAAC,CAAC;IACpDV,QAAQ,CAACH,cAAc,CAACkB,SAAS,CAAC,CAAC;EACtC,CAAC;EAED,MAAMC,YAAY,GAAIC,OAAyB,IAC5CZ,SAAS,CAAC;IAAE,GAAGD,MAAM;IAAE,GAAGa;EAAQ,CAAC,CAAC;EACvC,MAAMC,gBAAgB,GAAID,OAAqB,IAC5CR,aAAa,CAAC;IAAE,GAAGD,UAAU;IAAE,GAAGS;EAAQ,CAAC,CAAC;EAC/C1B,SAAS,CAAC,MAAM;IACb,IACGU,WAAW,KACVO,UAAU,CAACF,IAAI,KAAKL,WAAW,CAACK,IAAI,IAClCE,UAAU,CAACD,KAAK,KAAKN,WAAW,CAACM,KAAK,CAAC,EAC3C;MACCK,mBAAmB,CAAC,KAAK,CAAC;IAC7B,CAAC,MAAMA,mBAAmB,CAAC,IAAI,CAAC;EACnC,CAAC,EAAE,CAACJ,UAAU,CAAC,CAAC;EAEhB,OAAO;IACJJ,MAAM,EAAEA,MAAa;IACrBI,UAAU;IACVQ,YAAY;IACZE,gBAAgB;IAChBL,YAAY;IACZC,gBAAgB;IAChBH;EACH,CAAC;AACJ;AAACZ,EAAA,CA1DQD,mBAAmB;EAAA,QACRL,cAAc,EACXC,cAAc;AAAA;AAAAyB,EAAA,GAF5BrB,mBAAmB;AA4D5B,eAAeA,mBAAmB;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}