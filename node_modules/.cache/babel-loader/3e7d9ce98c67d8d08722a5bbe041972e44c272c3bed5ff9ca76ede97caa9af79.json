{"ast":null,"code":"import React,{useState,useEffect}from'react';import handleTablesPagesHistory from'Storages/SessionStorage';import WinnersTableRow from'components/commons/WinnersTableRow/WinnersTableRow';import Pagination from'components/commons/Pagination/Pagination';import WinnerTableHead from'components/commons/WinnerTableHead/WinnerTableHead';import styles from'./WinnersTable.module.scss';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function WinnersTable(_ref){let{list}=_ref;const pageInHistory=handleTablesPagesHistory('getItem',{key:'winnersTable'});const visibleitemsCount=10;const maxPageCount=Math.ceil(list.length/visibleitemsCount);const[pageNo,setPageNo]=useState(pageInHistory<=maxPageCount?pageInHistory:maxPageCount);useEffect(()=>{handleTablesPagesHistory('update',{key:'winnersTable',newValue:pageNo});},[pageNo]);const handlePageChange=No=>setPageNo(No);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WinnerTableHead,{}),/*#__PURE__*/_jsxs(\"table\",{className:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Car\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Wins\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Best Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:list.slice((pageNo-1)*visibleitemsCount,pageNo*visibleitemsCount).map(car=>/*#__PURE__*/_jsx(WinnersTableRow,{carData:car},car===null||car===void 0?void 0:car.id))})]}),list.length>=visibleitemsCount?/*#__PURE__*/_jsx(Pagination,{count:list.length,pageNo:pageNo,changePage:No=>handlePageChange(No),visibleitemsCount:visibleitemsCount}):null]});}export default WinnersTable;","map":{"version":3,"names":["React","useState","useEffect","handleTablesPagesHistory","WinnersTableRow","Pagination","WinnerTableHead","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WinnersTable","_ref","list","pageInHistory","key","visibleitemsCount","maxPageCount","Math","ceil","length","pageNo","setPageNo","newValue","handlePageChange","No","children","className","table","slice","map","car","carData","id","count","changePage"],"sources":["C:/Users/Admin/Documents/GitHub/Async-Race/src/components/featues/WinnersTable/WinnersTable.tsx"],"sourcesContent":["import React, { useState, useEffect, FC } from 'react';\n\nimport handleTablesPagesHistory from 'Storages/SessionStorage';\n\nimport WinnersTableRow from 'components/commons/WinnersTableRow/WinnersTableRow';\nimport Pagination from 'components/commons/Pagination/Pagination';\nimport WinnerTableHead from 'components/commons/WinnerTableHead/WinnerTableHead';\n\nimport { Winner } from 'store/modules/listReducer';\nimport styles from './WinnersTable.module.scss';\n\ninterface WinnersTableProps {\n   list: Winner[];\n}\n\nfunction WinnersTable({ list }: WinnersTableProps) {\n   const pageInHistory = handleTablesPagesHistory('getItem', { key: 'winnersTable' });\n   const visibleitemsCount = 10;\n   const maxPageCount = Math.ceil(list.length / visibleitemsCount);\n   const [pageNo, setPageNo] = useState(pageInHistory <= maxPageCount ? pageInHistory : maxPageCount);\n\n   useEffect(() => {\n      handleTablesPagesHistory('update', { key: 'winnersTable', newValue: pageNo });\n   }, [pageNo]);\n   const handlePageChange = (No: number) => setPageNo(No);\n   return (\n      <>\n         <WinnerTableHead />\n         <table className={styles.table}>\n            <thead>\n               <tr>\n                  <th>No</th>\n                  <th>Car</th>\n                  <th>Name</th>\n                  <th>Wins</th>\n                  <th>Best Time</th>\n               </tr>\n            </thead>\n            <tbody>\n               {list.slice((pageNo - 1) * visibleitemsCount, pageNo * visibleitemsCount).map((car: Winner) => (\n                  <WinnersTableRow key={car?.id} carData={car} />\n               ))}\n            </tbody>\n         </table>\n         {list.length >= visibleitemsCount ? (\n            <Pagination\n               count={list.length}\n               pageNo={pageNo}\n               changePage={(No: number) => handlePageChange(No)}\n               visibleitemsCount={visibleitemsCount}\n            />\n         ) : null}\n      </>\n   );\n}\n\nexport default WinnersTable;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAY,OAAO,CAEtD,MAAO,CAAAC,wBAAwB,KAAM,yBAAyB,CAE9D,MAAO,CAAAC,eAAe,KAAM,oDAAoD,CAChF,MAAO,CAAAC,UAAU,KAAM,0CAA0C,CACjE,MAAO,CAAAC,eAAe,KAAM,oDAAoD,CAGhF,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAMhD,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAA8B,IAA7B,CAAEC,IAAwB,CAAC,CAAAD,IAAA,CAC9C,KAAM,CAAAE,aAAa,CAAGd,wBAAwB,CAAC,SAAS,CAAE,CAAEe,GAAG,CAAE,cAAe,CAAC,CAAC,CAClF,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAC5B,KAAM,CAAAC,YAAY,CAAGC,IAAI,CAACC,IAAI,CAACN,IAAI,CAACO,MAAM,CAAGJ,iBAAiB,CAAC,CAC/D,KAAM,CAACK,MAAM,CAAEC,SAAS,CAAC,CAAGxB,QAAQ,CAACgB,aAAa,EAAIG,YAAY,CAAGH,aAAa,CAAGG,YAAY,CAAC,CAElGlB,SAAS,CAAC,IAAM,CACbC,wBAAwB,CAAC,QAAQ,CAAE,CAAEe,GAAG,CAAE,cAAc,CAAEQ,QAAQ,CAAEF,MAAO,CAAC,CAAC,CAChF,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CACZ,KAAM,CAAAG,gBAAgB,CAAIC,EAAU,EAAKH,SAAS,CAACG,EAAE,CAAC,CACtD,mBACGjB,KAAA,CAAAE,SAAA,EAAAgB,QAAA,eACGpB,IAAA,CAACH,eAAe,GAAE,CAAC,cACnBK,KAAA,UAAOmB,SAAS,CAAEvB,MAAM,CAACwB,KAAM,CAAAF,QAAA,eAC5BpB,IAAA,UAAAoB,QAAA,cACGlB,KAAA,OAAAkB,QAAA,eACGpB,IAAA,OAAAoB,QAAA,CAAI,IAAE,CAAI,CAAC,cACXpB,IAAA,OAAAoB,QAAA,CAAI,KAAG,CAAI,CAAC,cACZpB,IAAA,OAAAoB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbpB,IAAA,OAAAoB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbpB,IAAA,OAAAoB,QAAA,CAAI,WAAS,CAAI,CAAC,EACjB,CAAC,CACD,CAAC,cACRpB,IAAA,UAAAoB,QAAA,CACIb,IAAI,CAACgB,KAAK,CAAC,CAACR,MAAM,CAAG,CAAC,EAAIL,iBAAiB,CAAEK,MAAM,CAAGL,iBAAiB,CAAC,CAACc,GAAG,CAAEC,GAAW,eACvFzB,IAAA,CAACL,eAAe,EAAe+B,OAAO,CAAED,GAAI,EAAtBA,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEE,EAAmB,CAChD,CAAC,CACE,CAAC,EACJ,CAAC,CACPpB,IAAI,CAACO,MAAM,EAAIJ,iBAAiB,cAC9BV,IAAA,CAACJ,UAAU,EACRgC,KAAK,CAAErB,IAAI,CAACO,MAAO,CACnBC,MAAM,CAAEA,MAAO,CACfc,UAAU,CAAGV,EAAU,EAAKD,gBAAgB,CAACC,EAAE,CAAE,CACjDT,iBAAiB,CAAEA,iBAAkB,CACvC,CAAC,CACD,IAAI,EACT,CAAC,CAET,CAEA,cAAe,CAAAL,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}