{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { fetchGarageList, fetchWinnersList, fetchNewCar } from 'CONSTANTS/Axios';\nconst addNewCar = createAsyncThunk('list/addNewCar', async (props, {\n  rejectWithValue,\n  dispatch\n}) => {\n  const data = await fetchNewCar();\n  if (data.isFailed) return rejectWithValue();\n  dispatch(getGarageLists()).unwrap();\n  return data;\n});\nconst getGarageLists = createAsyncThunk('list/getGarageLists', async (props, {\n  rejectWithValue\n}) => {\n  const data = await fetchGarageList();\n  if (data.isFailed) return rejectWithValue();\n  dispatch(winnersList()).unwrap();\n  return data;\n});\nconst getWinnersLists = createAsyncThunk('list/getWinnersLists', async (props, {\n  rejectWithValue\n}) => {\n  const data = await fetchWinnersList();\n  if (data.isFailed) return rejectWithValue();\n  return data;\n});\nconst initialState = {\n  garageList: [],\n  winnersList: [],\n  loading: false\n};\nconst appSlice = createSlice({\n  name: 'list',\n  initialState,\n  reducers: {\n    setGarageList(state, {\n      payload\n    }) {\n      state.garageList = payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(addNewCar.pending, state => {\n      state.loading = true;\n    }).addCase(addNewCar.fulfilled, (state, {\n      payload\n    }) => {\n      state.garageList = payload;\n      state.loading = false;\n    }).addCase(addNewCar.rejected, state => {\n      state.loading = false;\n    }).addCase(getGarageLists.pending, state => {\n      state.loading = true;\n    }).addCase(getGarageLists.fulfilled, (state, {\n      payload\n    }) => {\n      state.garageList = payload;\n      state.loading = false;\n    }).addCase(getGarageLists.rejected, state => {\n      state.loading = false;\n    }).addCase(getWinnersLists.pending, state => {\n      state.loading = true;\n    }).addCase(getWinnersLists.fulfilled, (state, {\n      payload\n    }) => {\n      state.winnersList = payload.map(winner => {\n        var _car$name, _car$color;\n        const car = state.garageList.find(current => current.id === winner.id);\n        return {\n          ...winner,\n          name: (_car$name = car === null || car === void 0 ? void 0 : car.name) !== null && _car$name !== void 0 ? _car$name : 'Unknown',\n          color: (_car$color = car === null || car === void 0 ? void 0 : car.color) !== null && _car$color !== void 0 ? _car$color : '#000'\n        };\n      });\n      state.loading = false;\n    }).addCase(getWinnersLists.rejected, state => {\n      state.loading = false;\n    });\n  }\n});\nexport const {} = appSlice.actions;\nexport { getGarageLists, getWinnersLists, addNewCar };\nexport default appSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","fetchGarageList","fetchWinnersList","fetchNewCar","addNewCar","props","rejectWithValue","dispatch","data","isFailed","getGarageLists","unwrap","winnersList","getWinnersLists","initialState","garageList","loading","appSlice","name","reducers","setGarageList","state","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","map","winner","_car$name","_car$color","car","find","current","id","color","actions","reducer"],"sources":["C:/Users/Admin/Documents/GitHub/Async-Race/src/store/modules/listReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { fetchGarageList, fetchWinnersList, fetchNewCar } from 'CONSTANTS/Axios';\n\nconst addNewCar = createAsyncThunk(\n   'list/addNewCar',\n   async ( props, { rejectWithValue, dispatch }) => {\n      const data = await fetchNewCar()\n      if ( data.isFailed ) return rejectWithValue()\n      \n      dispatch( getGarageLists() ).unwrap()\n\n      return data\n   }\n)\n\nconst getGarageLists = createAsyncThunk(\n   'list/getGarageLists',\n   async ( props, { rejectWithValue }) => {\n      const data = await fetchGarageList()\n      if ( data.isFailed ) return rejectWithValue()\n         \n      dispatch( winnersList() ).unwrap()\n\n      return data\n   }\n)\n\nconst getWinnersLists = createAsyncThunk(\n   'list/getWinnersLists',\n   async ( props, { rejectWithValue }) => {\n      const data = await fetchWinnersList()\n      if ( data.isFailed ) return rejectWithValue()\n      return data\n   }\n)\n\n\nconst initialState = {\n   garageList: [],\n   winnersList: [],\n   loading: false,\n};\n\nconst appSlice = createSlice({\n   name: 'list',\n   initialState,\n   reducers: {\n      setGarageList( state, { payload } ) {\n         state.garageList = payload;\n      },\n   },\n   extraReducers: ( builder ) => {\n      builder\n      .addCase( addNewCar.pending, ( state ) => {\n         state.loading = true;\n      })\n      .addCase( addNewCar.fulfilled, ( state, { payload } ) => {\n         state.garageList = payload;\n         state.loading = false;\n      })\n      .addCase( addNewCar.rejected, ( state ) => {\n         state.loading = false;\n      })\n      .addCase( getGarageLists.pending, ( state ) => {\n         state.loading = true;\n      })\n      .addCase( getGarageLists.fulfilled, ( state, { payload } ) => {\n         state.garageList = payload;\n         state.loading = false;\n      })\n      .addCase( getGarageLists.rejected, ( state ) => {\n         state.loading = false;\n      })\n      .addCase( getWinnersLists.pending, ( state ) => {\n         state.loading = true;\n      })\n      .addCase( getWinnersLists.fulfilled, ( state, { payload } ) => {\n         state.winnersList = payload.map( winner => {\n            const car = state.garageList.find( current => current.id === winner.id )\n            return {\n               ...winner,\n               name: car?.name ?? 'Unknown',\n               color: car?.color ?? '#000',\n            }\n         });\n         state.loading = false;\n      })\n      .addCase( getWinnersLists.rejected, ( state ) => {\n         state.loading = false;\n      })\n   }\n});\n\nexport const { \n} = appSlice.actions;\nexport { \n   getGarageLists,\n   getWinnersLists,\n   addNewCar,\n};\nexport default appSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}